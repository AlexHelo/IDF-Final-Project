<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <script src="../webApp/js/jquery-3.3.1.min.js"></script>
  <script src="../webApp/js/store.everything.min.js">
  </script>
  <script src="../webApp/js/jquery.animate-colors-min.js">
  </script>
  <link rel="stylesheet" href="../webApp/css/style.css">
  <link href="../webApp/css/styles.css" rel="stylesheet">
  <meta charset="utf-8">
  <title>Knocki</title>
</head>

<body>
  <section class="firstScreen">
    <div class="startScreen">
      <div class="KnockiLogo">
        <img src="../webApp/images/knockiLogoBlue.png" alt="Logo Knocki">
      </div>
      <div class="LSbuttons">
        <button type="button" name="Sign Up" class="signUp" id="signUp-button"> Sign Up</button>
        <button type="button" name="Log In" class="logIn" id="login-button"> Log In</button>
      </div>
    </div>
  </section>

  <!--Get Started screen and Carousel Card container-->
  <section class="GetStarted">
    <div class="card">
      <div class="products">
        <div class="product active" product-id="1">
          <div class="thumbnail"><img src="../webApp/images/illustration1.png"/ class="illo1"></div>
          <h2 class="title">In just a few moments, you</h2>
          <h1 class="title"> will control your devices.</h1>
          <p class="description">All your tasks just one knock away,</p>
          <p class="description">turn any surface into a touch</p>
          <p class="description">interface thanks to knocki</p>
          <p class="description" id="lastLine">technology.</p>
        </div>
        <div class="product" product-id="2">
          <div class="thumbnail"><img src="../webApp/images/illustration2.png" class="illo2" /></div>
          <h1 class="title" id="firstLine">With Knocki, any surface can</h1>
          <h1 class="title">become a smart interface.</h1>
          <p class="description">A simple and effective technology device.</p>
          <p class="description">Thereâ€™s no messy installation</p>
          <p class="description">and no complicated setup.</p>
        </div>
      </div>
      <div class="footer"><a class="btn" id="prev" href="#" ripple="" ripple-color="#666666">Prev</a><a class="btn" id="next" href="#" ripple="" ripple-color="#666666">Next</a></div>
    </div>
    <div class="GSbutton">
      <button type="button" name="Get Started" class="signUp" id="get-Started"> Get Started</button>
    </div>
  </section>
  <!-- Get started screen and Carousel card end-->

  <!-- Account Screen start-->
  <section class="AccountScreen">
    <div class="introduction">
      <div class="greetings">
        <h1>Hi! We want to</h1>
        <h1>know about you</h1>
      </div>
      <div class="instructions">
        <h3>We will send you a verification email.</h3>
      </div>
    </div>
    <div class="signupForm">
      <label for="name"><b>NAME</b></label>
      <input type="text" placeholder="John Doe" id="create-name" name="name" required id="inputT">
      <label for="email"><b>EMAIL</b></label>
      <input type="text" placeholder="Email" id="create-email" name="email" required id="inputT">
      <label for="psw"><b>PASSWORD</b></label>
      <input type="password" placeholder="Password" id="create-password" name="psw" required id="inputT">
    </div>
    <div class="submitForm">
      <button type="button" name="CreateAccount" class="signUp" id="create">Create Account</button>
    </div>
    <div class="loginbutton">
      <span type="button" name="logInbutton" class="login-button" id="lo">Log in</span>
    </div>
  </section>
  <!-- Account Screen end-->

  <!--All set message to user screen starts-->
  <section class="AllSet">
    <div class="MessagetoUser">
      <div class="mainMessage">
        <h1>You're all set.</h1>
      </div>
      <div class="detailsMessage">
        <h3>We have sent you an email regarding your account.</h3>
      </div>
    </div>
    <div class="nextSteps">
      <div class="AddKnocki">
        <button type="button" name="addnew" class="signUp" id="retLogin">Start using Knocki</button>
      </div>
    </div>
  </section>
  <!--All set message to user screen ends-->

  <!--Log In account screen starts-->
  <section class="Login-screen">
    <div class="welcomeMessage">
      <div class="mainMessage">
        <h1>Welcome Back!</h1>
      </div>
      <div class="detailsMessage">
        <h3>Sign in to continue.</h3>
      </div>
    </div>
    <div class="signinForm">
      <label for="email"><b>EMAIL</b></label>
      <input type="text" placeholder="Email" name="email" required id="email" onFocus="inputFocus();">
      <label for="psw1"><b>PASSWORD</b></label>
      <input type="password" placeholder="Password" name="psw1" required id="psw" onFocus="inputFocus();">
    </div>
    <span id="errorLogIn">
      <h3>Something seems wrong with your login details, mind trying again?</h3>
    </span>
    <div class="formLogin">
    <button type="button" name="Login" class="signUp" id="logInval">Log in</button>
    </div>
    <div class="signupOption">
      <span type="button" name="SignUp" class="login-button" id="sign">Sign Up</span>
    </div>

  </section>
  <!--Log In account screen ends-->

  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script src="js/index.js"></script>
  <script type="text/javascript">
  function inputFocus(){
    $('input').css("border-color","#707070");
  };

    window.localStorage.setItem('logged-in-user', null);
    // Sign Up gets you to GetStarted screen
    $('#signUp-button').on('click', function() {
      $('.GetStarted').show();
      $('.firstScreen').hide();
    });
    // Log in gets you to log in screen
    $('#login-button').on('click', function() {
      $('.Login-screen').show();
      $('.firstScreen').hide();
    });

    // get Started button gets you to create screen account
    $('#get-Started').on('click', function() {
      $('.AccountScreen').show();
      $('.GetStarted').hide();
      $('.Login-screen').hide();
    });

    // Shows the log in screen when selected button in the AccountScreen screen
    $('#lo').on('click', function() {
      $('.Login-screen').show();
      $('.AccountScreen').hide();
      $('.GetStarted').hide();
    });

    //
    $('#sign').on('click', function() {
      $('.Login-screen').hide();
      $('.AccountScreen').show();
      $('.GetStarted').hide();
    });

    //check if tot-users exists
    if (store.get('tot-usr') == null) {
      store.set('tot-usr', 0);
    }

    //Creating account section
    $('.signUp').on('click', function() {


      //TODO validate no same user




      //steigen tot-usr
      store.set('tot-usr', (store.get('tot-usr') + 1));

      // Create new user
      store.set('user-' + store.get('tot-usr'), {
        name: $('#create-name').val(),
        email: $('#create-email').val(),
        password: $('#create-password').val(),
      });

      //change screen to all set
      $('.AccountScreen').hide();
      $('.Login-screen').hide();
      $('.AllSet').show();
      $('.GetStarted').hide();
      // change screen to all set
    });


    // User registration und returning to login screen
    $('#retLogin').on('click', function() {
      $('.Login-screen').show();
      $('.AccountScreen').hide();
      $('.GetStarted').hide();
      $('.AllSet').hide();
    });

    //login screen and login button actions
    $('#logInval').on('click', function() {
      //loop through users
      for (var i = 1; i <= store.get('tot-usr'); i++) {
        var u = store.get('user-'+i);
        if (u.email == $('#email').val()
        && u.password == $('#psw').val()){
          //match
          store.set('logged-in-user', u.email);
          store.set('logged-in-name', u.name);
          store.set('logged-in-pass', u.password);
          //go to main.html
          window.location.href = 'home.html';
          $('.Login-screen').hide();
          $('.AccountScreen').hide();
          $('.GetStarted').hide();
          $('.AllSet').hide();
        }
      }
      $("input").css("border-color","red");
      $('#errorLogIn').fadeIn();
      $('#errorLogIn').fadeOut(5000);
    });

  </script>
</body>

</html>
